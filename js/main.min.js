if(document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".main-nav");e&&t&&e.addEventListener("click",(function(){t.classList.toggle("active"),this.innerHTML=t.classList.contains("active")?"✕":"☰"}));document.querySelectorAll(".main-nav a").forEach((n=>{n.addEventListener("click",(function(){t.classList.contains("active")&&(t.classList.remove("active"),e.innerHTML="☰")}))}));const n=document.getElementById("contactForm");n&&n.addEventListener("submit",(function(e){e.preventDefault(),document.querySelectorAll(".error-message").forEach((e=>e.remove())),document.querySelectorAll("input, textarea").forEach((e=>{e.style.borderColor=""}));let t=!0;const r=document.getElementById("name"),o=document.getElementById("email"),s=document.getElementById("message");""===r.value.trim()&&(a(r,"Por favor ingresa tu nombre"),t=!1),""===o.value.trim()?(a(o,"Por favor ingresa tu email"),t=!1):function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(o.value.trim())||(a(o,"Por favor ingresa un email válido"),t=!1),""===s.value.trim()&&(a(s,"Por favor ingresa tu mensaje"),t=!1),t&&(!function(e){const t=document.createElement("div");t.className="success-message",t.textContent=e,t.style.backgroundColor="var(--success)",t.style.color="white",t.style.padding="1rem",t.style.borderRadius="var(--radius-md)",t.style.marginBottom="1.5rem",t.style.textAlign="center",n.prepend(t),setTimeout((()=>{t.remove()}),5e3)}("¡Mensaje enviado con éxito! Nos pondremos en contacto pronto."),n.reset())}));const r=document.querySelector(".testimonials-slider");if(r){let i=0;const l=document.querySelectorAll(".testimonial-slide"),d=l.length;function o(e){l.forEach(((t,n)=>{t.style.transform=`translateX(${100*(n-e)}%)`}))}function s(){i=(i+1)%d,o(i)}let m=setInterval(s,5e3);r.addEventListener("mouseenter",(()=>{clearInterval(m)})),r.addEventListener("mouseleave",(()=>{m=setInterval(s,5e3)})),o(0)}const c=()=>{document.querySelectorAll(".animate-on-scroll").forEach((e=>{e.getBoundingClientRect().top<window.innerHeight/1.2&&e.classList.add("animated")}))};function a(e,t){const n=e.closest(".form-group"),r=n.querySelector(".error-message")||document.createElement("span");r.className="error-message",r.textContent=t,r.style.color="var(--error)",r.style.fontSize="0.875rem",r.style.marginTop="0.25rem",r.style.display="block",n.querySelector(".error-message")||n.appendChild(r),e.style.borderColor="var(--error)"}window.addEventListener("scroll",c),c()})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);if(n){const e=document.querySelector(".main-header").offsetHeight,t=n.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"})}}))})),"IntersectionObserver"in window){const e=document.querySelectorAll("img.lazy"),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.dataset.srcset&&(n.srcset=n.dataset.srcset),n.classList.remove("lazy"),t.unobserve(n)}}))}),{rootMargin:"200px"});e.forEach((e=>{t.observe(e)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll("img.lazy");if("IntersectionObserver"in window){const t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,t.unobserve(n)}}))}));e.forEach((e=>t.observe(e)))}}))}